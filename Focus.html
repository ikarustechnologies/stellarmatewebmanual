

<!DOCTYPE html>
<html lang="en">

<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="generator" content="HelpNDoc Professional Edition 8.9.0.604">
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="icon" href="favicon.ico"/>

  <title>Focus</title>
  <meta name="description" content="" /> 
  <meta name="keywords" content="">



  
  

  <!-- Twitter Card data -->
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Focus">
  <meta name="twitter:description" content="">

  <!-- Open Graph data -->
  <meta property="og:title" content="Focus" />
  <meta property="og:type" content="article" />
  <meta property="og:description" content="" />
  <meta property="og:site_name" content="The StellarMate Manual" /> 

  <!-- Bootstrap core CSS -->
  <link href="vendors/bootstrap-3.4.1/css/bootstrap.min.css" rel="stylesheet"/>

  <!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
  <link href="vendors/bootstrap-3.4.1/css/ie10-viewport-bug-workaround.css" rel="stylesheet"/>

  <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
  <!--[if lt IE 9]>
      <script src="vendors/html5shiv-3.7.3/html5shiv.min.js"></script>
      <script src="vendors/respond-1.4.2/respond.min.js"></script>
    <![endif]-->

  <!-- JsTree styles -->
  <link href="vendors/jstree-3.3.10/themes/default/style.min.css" rel="stylesheet"/>

  <!-- Hnd styles -->
  <link href="css/layout.min.css" rel="stylesheet" />
  <link href="css/effects.min.css" rel="stylesheet" />
  <link href="css/theme-light-blue.min.css" rel="stylesheet" />
  <link href="css/print.min.css" rel="stylesheet" media="print" />
  <style type="text/css">nav { width: 350px} @media screen and (min-width:769px) { body.md-nav-expanded div#main { margin-left: 350px} body.md-nav-expanded header { padding-left: 364px} }</style>
  <style type="text/css">.navigation #inline-toc { width: auto !important}</style>

  <!-- Content style -->
  <link href="css/hnd.content.css" rel="stylesheet" />

  



</head>

<body class="md-nav-expanded">



  

  <div id="skip-link">
    <a href="#main-content" class="element-invisible">Skip to main content</a>
  </div>

  <header class="headroom">
    <button class="hnd-toggle btn btn-default">
      <span class="sr-only">Toggle navigation</span>
      <span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span>        
    </button>
    <h1>The StellarMate Manual</h1>
    <a href="https://www.stellarmate.com"><img src="StellarMate_Logo_Text_Black.png" alt="logo" class="logo"/></a>
  </header>

  <nav id="panel-left" class="md-nav-expanded">
    <!-- Nav tabs -->
    <ul class="tab-tabs nav nav-tabs" role="tablist">
      <li id="nav-close" role="presentation"> 
        <button class="hnd-toggle btn btn-default" aria-label="close">
          <span class="glyphicon glyphicon-remove" aria-hidden="true"></span>
        </button>
      </li>
      
	  
        <li role="presentation" class="tab active">
            <a href="#contents" id="tab-contents" aria-controls="contents" role="tab" data-toggle="tab">
                <i class="glyphicon glyphicon-list"></i>
                Contents
            </a>
        </li>
      
        <li role="presentation" class="tab">
            <a href="#index" id="tab-index" aria-controls="index" role="tab" data-toggle="tab">
                <i class="glyphicon glyphicon-asterisk"></i>
                Index
            </a>
        </li>
      
        <li role="presentation" class="tab">
            <a href="#search" id="tab-search" aria-controls="search" role="tab" data-toggle="tab">
                <i class="glyphicon glyphicon-search"></i>
                Search
            </a>
        </li>
      
    </ul>  <!-- /Nav tabs -->

    <!-- Tab panes -->
    <div class="tab-content">
	  
      <div role="tabpanel" class="tab-pane active" id="contents">
        <div id="toc" class="tree-container unselectable"
            data-url="_toc.json"
            data-openlvl="1"
        >
            
        </div>
      </div>  <!-- /contents-->
      
      <div role="tabpanel" class="tab-pane" id="index">
        <div id="keywords" class="tree-container unselectable"
            data-url="_keywords.json"
            data-openlvl="1"
        >
            
        </div>
      </div>  <!-- /index-->
      
      <div role="tabpanel" class="tab-pane" id="search">
        <div class="search-content">
          <div class="search-input">
            <form id="search-form">
              <div class="form-group">
                <div class="input-group">
                  <input type="text" class="form-control" id="input-search" name="input-search" placeholder="Search..." aria-label="Search..." />
                  <span class="input-group-btn">
                    <button class="btn btn-default" type="submit" aria-label="Search...">
                      <span class="glyphicon glyphicon-search" aria-hidden="true"></span>
                    </button>
                  </span>
                </div>
              </div>
            </form>
          </div>  <!-- /search-input -->
          <div class="search-result">
            <div id="search-info"></div>
            <div class="tree-container unselectable" id="search-tree"></div>
          </div>  <!-- /search-result -->
        </div>  <!-- /search-content -->
      </div>  <!-- /search-->
      
    </div>  <!-- /Tab panes -->

  </nav>

  <div id="main">

    <article>
        <div id="topic-content" class="container-fluid" 
		  data-hnd-id="Focus"
		  data-hnd-context="159"
		  data-hnd-title="Focus"
		>
            
                <div class="navigation">
                    <ol class="breadcrumb">
                        <li><a href="StellarMateApp.html">StellarMate App</a></li><li><a href="Ekos.html">Ekos</a></li><li><a href="Modules.html">Modules</a></li>
                    </ol>
                    <div class="nav-arrows">
                        <div class="btn-group btn-group" role="group"><a class="btn btn-default" href="Modules.html" title="Modules" role="button"><span class="glyphicon glyphicon-menu-up" aria-hidden="true"></span></a><a class="btn btn-default" href="Modules.html" title="Modules" role="button"><span class="glyphicon glyphicon-menu-left" aria-hidden="true"></span></a><a class="btn btn-default" href="Settings6.html" title="Settings" role="button"><span class="glyphicon glyphicon-menu-right" aria-hidden="true"></span></a></div>
                    </div>
                </div> 
            

            <a id="main-content"></a>

            <h2>Focus</h2>

            <div class="main-content">
                
<p class="rvps51"><span class="rvts70">In order to focus an image, Ekos needs to establish a numerical method for gauging how&nbsp;</span><span class="rvts71">good</span><span class="rvts70">&nbsp;your focus is. It's easy when you look at an image and can see it as&nbsp;</span><span class="rvts71">unfocused</span><span class="rvts70">, as the human eye is very good at detecting that, but&nbsp;</span><span class="rvts71">how</span><span class="rvts70">&nbsp;can Ekos possibly know that?</span></p>
<p class="rvps51"><span class="rvts70">The most tried and tested method is Half-Flux-Radius (HFR), which is a measure of the width in pixels counting from the center of the star until the accumulated intensity is half of the total flux of the star. As you move closer to the point of optimum focus, so the HFR gets smaller, reaching a minimum at the point of focus before increasing as you start to move away from focus. HFR has been used on lots of different types of equipment and has proved to be stable in a wide range of circumstances.</span></p>
<p class="rvps50"><span class="rvts6"><br/></span></p>
<p class="rvps50"><span class="rvts6">The Focus module allows you to do focusing using your focuser, it has the following features:</span></p>
<p class="rvps50"><span class="rvts6"><br/></span></p>
<ul style="text-indent: 0px; padding: 0; margin: 0 0 0 24px; list-style-position: outside; list-style-type: disc;">
 <li style="text-indent: 0px" class="rvps52"><span class="rvts6">Manage / Select </span><a class="rvts14" href="OpticalTrains.html">Optical trains</a><span class="rvts6">.</span></li>
 <li class="rvps5"><span class="rvts24">Goto absolute motor step</span></li>
 <li class="rvps5"><span class="rvts24">Preview</span></li>
 <li class="rvps5"><span class="rvts24">Loop</span></li>
 <li class="rvps5"><span class="rvts24">Advanced options (settings, process, mechanics)</span></li>
 <li class="rvps5"><span class="rvts24">Image viewer</span></li>
</ul>
<p class="rvps15"><img width="494" height="353" alt="" style="padding : 1px;" src="lib/focus_imaging1.jpg"></p>
<ul style="text-indent: 0px; padding: 0; margin: 0 0 0 24px; list-style-position: outside; list-style-type: disc;">
 <li class="rvps5"><span class="rvts24">HFR Plot</span></li>
</ul>
<p class="rvps2"><span class="rvts24"><br/></span></p>
<p class="rvps2"><span class="rvts24">Now you can drag the Focus module to any part of the screen using gestures</span></p>
<p class="rvps3"><span class="rvts6"><br/></span></p>
<p class="rvps15"><img width="496" height="353" alt="" style="padding : 1px;" src="lib/focus4.jpg"></p>
<p class="rvps3"><span class="rvts24"><br/></span></p>
<p class="rvps38"><span class="rvts51">Quick Settings</span></p>
<p class="rvps38"><span class="rvts51"><br/></span></p>
<p class="rvps3"><img width="489" height="350" alt="" style="padding : 1px;" src="lib/quick-settings1.jpg"></p>
<p class="rvps38"><span class="rvts51"><br/></span></p>
<ul style="text-indent: 0px; padding: 0; margin: 0 0 0 24px; list-style-position: outside; list-style-type: disc;">
 <li class="rvps38"><span class="rvts51">Train</span></li>
</ul>
<p class="rvps38"><span class="rvts51"><br/></span></p>
<p class="rvps38"><span class="rvts51"> &nbsp; &nbsp; &nbsp; &nbsp;</span><span class="rvts24">You can Select / Edit a train specifically for Focus module. Each module has it's own train. Visit </span><a class="rvts14" href="OpticalTrains.html">Optical trains</a><span class="rvts24"> topic for more.</span></p>
<p class="rvps38"><span class="rvts24"><br/></span></p>
<ul style="text-indent: 0px; padding: 0; margin: 0 0 0 24px; list-style-position: outside; list-style-type: disc;">
 <li class="rvps38"><span class="rvts51">Filter</span></li>
 <li class="rvps38"><span class="rvts51">Binning</span></li>
 <li class="rvps38"><span class="rvts51">Gain</span></li>
</ul>
<p class="rvps38"><span class="rvts51"><br/></span></p>
<p class="rvps3"><span class="rvts6"><br/></span></p>
<p class="rvps27"><span class="rvts6">There are 3 ways to Autofocus in Ekos. Here, I've setup an example that covers each:</span></p>
<p class="rvps27"><span class="rvts6">1. Use Autofocus on the designated filter. In the example, Lum is configured like this. Whenever the Lum filter is selected in a sequence, Autofocus will be run on Lum.</span></p>
<p class="rvps27"><span class="rvts6">2. Use Autofocus on a "lock" filter. In the example, Sii, Ha and Oiii are configured like this. Whenever Sii, Ha or Oiii are selected in a sequence, Autofocus will be run on Lum. When Autofocus completes (for example at 37273), Focus will apply the offset to go from Lum to, for example, Ha (in this case (-23 - 0) = -23 ticks. The focuser moves to 37273 - 23 = 37250 and Ha will again be selected in the filter wheel.</span></p>
<p class="rvps27"><span class="rvts6">3. Don't use Autofocus but apply offsets on filter change. Red, Green and Blue have been setup like this. For example, when swapping from Red to Green, no Autofocus will be run and the focuser will from its current position (e.g. 37118) by the offset different between Red and Green. In this case, 4 - (-21) = 25 ticks. So the focuser moves to 37118 + 25 = 37143 and Green will be selected in the filter wheel.</span></p>
<p class="rvps27"><span class="rvts6"><br/></span></p>
<p class="rvps27"><span class="rvts20">2. So how do I setup Filter Offsets?</span></p>
<p class="rvps27"><span class="rvts6">You can do it manually by running </span><span class="rvts20">Autofocus</span><span class="rvts6"> several times and getting an average focus position for each filter. Then do the maths yourself to work out the offsets and enter these numbers into the Offsets column in the Filter Settings popup.</span></p>
<p class="rvps27"><span class="rvts6"><br/></span></p>
<p class="rvps27"><span class="rvts6">3.6.5 Introduced the Build Filter Offsets utility, launched from the Filter Settings popup by pressing the Build Offsets button. This helps to automate the process. See the Build Offsets section in the Focus section of the </span><a class="rvts14" href="https://docs.kde.org/trunk5/en/kstars/kstars/tool-ekos.html#ekos-focus" target="_blank">Kstars Handbook</a></p>
<p class="rvps3"><span class="rvts6"><br/></span></p>
<p class="rvps38"><span class="rvts20">Auto focusing</span></p>
<p class="rvps38"><span class="rvts20"><br/></span></p>
<p class="rvps5"><span class="rvts6">You can do auto focusing by either keeping the preset setting as default or choosing an existing preset and then tapping on Auto Focus. The image viewer will show you the current image being captured by your camera, with a square around the detected star. An HFR Plot is also available on the right side of the screen to inform you about the current motor step and the HFR (Half-Flux-Radius). The blue points are the previous focus points, and the green point is the latest focus point. The HFR value is displayed under the HFR Plot.</span></p>
<p class="rvps3"><span class="rvts6"><br/></span></p>
<p class="rvps3"><img width="535" height="376" alt="" style="padding : 1px;" src="lib/focus_focusing4.jpg"></p>
<p class="rvps3"><span class="rvts6"><br/></span></p>
<p class="rvps2"><span class="rvts6">When the Auto Focusing is done, the status badge above the HFR Plot will turn to green and say "Complete".</span></p>
<p class="rvps3"><span class="rvts6"><br/></span></p>
<p class="rvps3"><img width="487" height="93" alt="" style="padding : 1px;" src="lib/focus_complete2.jpeg"></p>
<p class="rvps3"><span class="rvts6"><br/></span></p>
<p class="rvps2"><span class="rvts20"><br/></span></p>
<p class="rvps3"><span class="rvts6"></span><span class="rvts6"></span></p>

            </div>
            
            <div id="topic_footer"><div id="topic_footer_content">Copyright &copy; 2018-2024 by Ikarus Technologies. All Rights Reserved.</div></div>
        </div>  <!-- /#topic-content -->
    </article>

    <footer></footer>

  </div>  <!-- /#main -->

  <div class="mask" data-toggle="sm-nav-expanded"></div>
  
  <!-- Modal -->
  <div class="modal fade" id="hndModal" tabindex="-1" role="dialog" aria-labelledby="hndModalLabel">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
          <h4 class="modal-title" id="hndModalLabel"></h4>
        </div>
        <div class="modal-body">
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-primary modal-btn-close" data-dismiss="modal">Close</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Splitter -->
  <div id="hnd-splitter" style="left: 350px"></div>  

  <!-- Scripts -->
  <script src="vendors/jquery-3.5.1/jquery.min.js"></script>
  <script src="vendors/bootstrap-3.4.1/js/bootstrap.min.js"></script>
  <script src="vendors/bootstrap-3.4.1/js/ie10-viewport-bug-workaround.js"></script>
  <script src="vendors/markjs-8.11.1/jquery.mark.min.js"></script>
  <script src="vendors/uri-1.19.11/uri.min.js"></script>
  <script src="vendors/imageMapResizer-1.0.10/imageMapResizer.min.js"></script>
  <script src="vendors/headroom-0.11.0/headroom.min.js"></script>
  <script src="vendors/jstree-3.3.10/jstree.min.js"></script>  
  <script src="vendors/interactjs-1.9.22/interact.min.js"></script>  

  <!-- HelpNDoc scripts -->
  <script src="js/polyfill.object.min.js"></script>
  <script src="_translations.js"></script>
  <script src="js/hndsd.min.js"></script>
  <script src="js/hndse.min.js"></script>
  <script src="js/app.min.js"></script>

  <!-- Init script -->
  <script>
    $(function() {
      // Create the app
      var app = new Hnd.App({
        searchEngineMinChars: 3
      });
      // Update translations
      hnd_ut(app);
	  // Instanciate imageMapResizer
	  imageMapResize();
	  // Custom JS
	  
      // Boot the app
      app.Boot();
    });
  </script>



</body>

</html>

