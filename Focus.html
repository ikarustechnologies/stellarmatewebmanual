

<!DOCTYPE html>
<html lang="en">

<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="generator" content="HelpNDoc Professional Edition 7.1.3.270">
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="icon" href="favicon.ico"/>

  <title>Focus</title>
  <meta name="description" content="" /> 
  <meta name="keywords" content="">



  

  <!-- Twitter Card data -->
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Focus">
  <meta name="twitter:description" content="">

  <!-- Open Graph data -->
  <meta property="og:title" content="Focus" />
  <meta property="og:type" content="article" />
  <meta property="og:description" content="" />
  <meta property="og:site_name" content="The StellarMate Plus Manual" /> 

  <!-- Bootstrap core CSS -->
  <link href="vendors/bootstrap-3.4.1/css/bootstrap.min.css" rel="stylesheet"/>

  <!-- IE10 viewport hack for Surface/desktop Windows 8 bug -->
  <link href="vendors/bootstrap-3.4.1/css/ie10-viewport-bug-workaround.css" rel="stylesheet"/>

  <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
  <!--[if lt IE 9]>
      <script src="vendors/html5shiv-3.7.3/html5shiv.min.js"></script>
      <script src="vendors/respond-1.4.2/respond.min.js"></script>
    <![endif]-->

  <!-- JsTree styles -->
  <link href="vendors/jstree-3.3.10/themes/default/style.min.css" rel="stylesheet"/>

  <!-- Hnd styles -->
  <link href="css/layout.min.css" rel="stylesheet" />
  <link href="css/effects.min.css" rel="stylesheet" />
  <link href="css/theme-light-blue.min.css" rel="stylesheet" />
  <link href="css/print.min.css" rel="stylesheet" media="print" />
  <style type="text/css">nav { width: 350px} @media screen and (min-width:769px) { body.md-nav-expanded div#main { margin-left: 350px} body.md-nav-expanded header { padding-left: 364px} }</style>

  <!-- Content style -->
  <link href="css/hnd.content.css" rel="stylesheet" />

  



</head>

<body class="md-nav-expanded">



  <div id="skip-link">
    <a href="#main-content" class="element-invisible">Skip to main content</a>
  </div>

  <header class="headroom">
    <button class="hnd-toggle btn btn-default">
      <span class="sr-only">Toggle navigation</span>
      <span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span>        
    </button>
    <h1>The StellarMate Plus Manual</h1>
    <a href="https://www.stellarmate.com"><img src="StellarMate_Logo_Text_Black.png" alt="logo" class="logo"/></a>
  </header>

  <nav id="panel-left" class="md-nav-expanded">
    <!-- Nav tabs -->
    <ul class="tab-tabs nav nav-tabs" role="tablist">
      <li id="nav-close"> 
        <button class="hnd-toggle btn btn-default">
          <span class="glyphicon glyphicon-remove" aria-hidden="true"></span>
        </button>
      </li>
      
	  
        <li role="presentation" class="tab active">
            <a href="#contents" id="tab-contents" aria-controls="contents" role="tab" data-toggle="tab">
                <i class="glyphicon glyphicon-list"></i>
                Contents
            </a>
        </li>
      
        <li role="presentation" class="tab">
            <a href="#index" id="tab-index" aria-controls="index" role="tab" data-toggle="tab">
                <i class="glyphicon glyphicon-asterisk"></i>
                Index
            </a>
        </li>
      
        <li role="presentation" class="tab">
            <a href="#search" id="tab-search" aria-controls="search" role="tab" data-toggle="tab">
                <i class="glyphicon glyphicon-search"></i>
                Search
            </a>
        </li>
      
    </ul>  <!-- /Nav tabs -->

    <!-- Tab panes -->
    <div class="tab-content">
	  
      <div role="tabpanel" class="tab-pane active" id="contents">
        <div id="toc" class="tree-container unselectable"
            data-url="_toc.json"
            data-openlvl="1"
        >
            
        </div>
      </div>  <!-- /contents-->
      
      <div role="tabpanel" class="tab-pane" id="index">
        <div id="keywords" class="tree-container unselectable"
            data-url="_keywords.json"
            data-openlvl="1"
        >
            
        </div>
      </div>  <!-- /index-->
      
      <div role="tabpanel" class="tab-pane" id="search">
        <div class="search-content">
          <div class="search-input">
            <form id="search-form">
              <div class="form-group">
                <div class="input-group">
                  <input type="text" class="form-control" id="input-search" name="input-search" placeholder="Search..." />
                  <span class="input-group-btn">
                    <button class="btn btn-default" type="submit">
                      <span class="glyphicon glyphicon-search" aria-hidden="true"></span>
                    </button>
                  </span>
                </div>
              </div>
            </form>
          </div>  <!-- /search-input -->
          <div class="search-result">
            <div id="search-info"></div>
            <div class="tree-container unselectable" id="search-tree"></div>
          </div>  <!-- /search-result -->
        </div>  <!-- /search-content -->
      </div>  <!-- /search-->
      
    </div>  <!-- /Tab panes -->

  </nav>

  <div id="main">

    <article>
        <div id="topic-content" class="container-fluid" 
		  data-hnd-id="Focus"
		  data-hnd-context="126"
		  data-hnd-title="Focus"
		>
            
                <div class="navigation">
                    <ol class="breadcrumb">
                        <li><a href="TheKStarsHandbook.html">The KStars Handbook</a></li><li><a href="KStarsTools.html">KStars Tools</a></li><li><a href="Ekos2.html">Ekos</a></li>
                    </ol>
                    <div class="nav-arrows">
                        <div class="btn-group btn-group-xs" role="group"><a class="btn btn-default" href="Ekos2.html" title="Ekos" role="button"><span class="glyphicon glyphicon-menu-up" aria-hidden="true"></span></a><a class="btn btn-default" href="Capture.html" title="Capture" role="button"><span class="glyphicon glyphicon-menu-left" aria-hidden="true"></span></a><a class="btn btn-default" href="Guide1.html" title="Guide" role="button"><span class="glyphicon glyphicon-menu-right" aria-hidden="true"></span></a></div>
                    </div>
                </div> 
            

            <a id="main-content"></a>

            <h2>Focus</h2>

            <div class="main-content">
                
<p></p>
<h5 class="rvps36"><a name="IDM5796"></a><span class="rvts0"><span class="rvts22">Theory Of Operation</span></span></h5>
<p class="rvps3"><img alt="" style="padding : 1px;" src="lib/ekos_focus.png"></p>
<p class="rvps10"><span class="rvts20">In order to focus an image, Ekos needs to establish a numerical method for gauging how&nbsp;</span><span class="rvts21">good</span><span class="rvts20">&nbsp;your focus is. It's easy when you look at an image and can see it as&nbsp;</span><span class="rvts21">unfocused</span><span class="rvts20">, as the human is very good at detecting that, but&nbsp;</span><span class="rvts21">how</span><span class="rvts20">&nbsp;can Ekos possibly know that?</span></p>
<p class="rvps10"><span class="rvts20">There are multiple methods. One is to calculate the Full Width at Half Maximum (FHWM) of a star profile within an image, and then adjust the focus until an optimal (narrower) FWHM is reached. The problem with FWHM is that it assumes the initial focus position to be close to the critical focus. Additionally, FWHM does not perform very well under low-intensity fluxes. An Alternative method is Half-Flux-Radius (HFR), which is a measure of the width in pixels counting from the center of the stars until the accumulated intensity is half of the total flux of the star. HFR proved to be much more stable in conditions where you might have unfavorable sky conditions, when the brightness profile of the stars is low, and when the starting position of the focus is far from the optimal focus.</span></p>
<p class="rvps10"><span class="rvts20">After Ekos processes an image, it selects the brightest star and starts measuring its HFR. It can automatically select the star, or you can select the star manually. It is usually recommended to select stars that are not too bright as they might get saturated during the focusing process. A magnitude 3 or 4 star is often sufficient.</span></p>
<p class="rvps10"><span class="rvts20">Ekos then begins the focusing process by commanding the focuser to focus inwards or outwards, and re-measures the HFR. This establishes a V-shaped curve in which the sweet spot of optimal focus is at the center of the V-curve, and the slope of which depends on the properties of the telescope and camera in use. In Ekos, a full V-curve is never constructed as the focusing process works iteratively, so under most circumstances, a half V-curve shape as illustrated in the Focus Module image is measured.</span></p>
<p class="rvps10"><span class="rvts20">Because the HFR varies linearly with focus distance, it is possible to calculate the optimal focus point. In practice, Ekos operates iteratively by moving in discrete steps, decided initially by the user-configurable step size and later by the slope of the V-curve, to get closer to the optimal focus position where it then changes gears and performs smaller, finer moves to reach the optimal focus. In the default&nbsp;Iterative&nbsp;algorithm, the focus process stops when the measured HFR is within the configurable tolerance of the minimum recorded HFR in the process. In other words, whenever the process starts searching for a solution within a narrowly limited range, it checks if the current HFR is within % difference compared to the minimum HFR recorded, and if this condition is met then the autofocus process is considered successful. The default value is set to 1% and is sufficient for most situations. The&nbsp;Step&nbsp;options specify the number of&nbsp;</span><span class="rvts21">initial</span><span class="rvts20">&nbsp;ticks the focuser has to move. If the image is severely out of focus, we set the step size high (i.e.&nbsp;&gt; 250). On the other hand, if the focus is close to optimal focus, we set the step size to a more reasonable range (&lt; 50). It takes trial and error to find the best starting tick, but Ekos only uses that for the first focus motion, as all subsequent motions depend on the V-Curve slope calculations.</span></p>
<p class="rvps10"><span class="rvts20">When using the&nbsp;Polynomial&nbsp;algorithm, the process starts in the&nbsp;Iterative&nbsp;mode, but once we cross to the other side of the V-curve (i.e.&nbsp;once HFR values start increasing again after decreasing for a while), the Ekos performs polynomial fitting to find a solution that predicts the minimum possible HFR position. If a valid solution is found, the autofocus process is considered successful.</span></p>
<p class="rvps10"><span class="rvts20">While Ekos Focus Module supports relative focusers, it is&nbsp;</span><span class="rvts22">highly recommended</span><span class="rvts20">&nbsp;to use absolute focusers.</span></p>
<h5 class="rvps36"><a name="FOCUS-FOCUSER-GROUP"></a><span class="rvts0"><span class="rvts22">Focuser Group</span></span></h5>
<p class="rvps3"><img alt="" style="padding : 1px;" src="lib/focuser_group.png"></p>
<p class="rvps10"><span class="rvts20">Any INDI-compatible focuser is supported. It is recommended to use&nbsp;</span><span class="rvts22">absolute</span><span class="rvts20">&nbsp;focusers since their absolute position is known on power up. In INDI, the focuser&nbsp;</span><span class="rvts21">zero</span><span class="rvts20">&nbsp;position is when the drawtube is&nbsp;</span><span class="rvts22">fully retracted</span><span class="rvts20">. When focusing&nbsp;</span><span class="rvts21">outwards</span><span class="rvts20">, the focuser position increases, while it decreases when focusing&nbsp;</span><span class="rvts21">inwards</span><span class="rvts20">. The following focuser types are supported:</span></p>
<ul style="text-indent: 0px; padding: 0; margin: 0 0 0 24px; list-style-position: outside; list-style-type: disc;">
 <li class="rvps10"><span class="rvts22">Absolute</span><span class="rvts20">: Absolute Position Focusers such as RoboFocus, MoonLite,&nbsp;etc.</span></li>
 <li class="rvps10"><span class="rvts22">Relative</span><span class="rvts20">: Relative Position Focusers.</span></li>
 <li class="rvps10"><span class="rvts22">Simple Focusers</span><span class="rvts20">: DC/PWM focusers with no position feedback.</span></li>
</ul>
<p class="rvps10"><span class="rvts20">For absolute focusers, you can set the ticks count. To view a continuous feed of the camera, click the Framing view refresh button. An image shall be captured repeatedly according to the CCD settings in the CCD and Filter Wheel group. You can focus in format align vertical bottom and out align vertical top by pressing the respective buttons, and each shall move by the step size indicated in the focus settings. For absolute and relative focusers, the step size is in units of ticks and for simple DC focusers, the step size is in milliseconds. The step size can be changed by specifying its value in the 2nd Steps field. To set an initial focus position or go to a focus position, click on the Go to absolute focus position button. To stop the focus motion, click on the Stop focuser motion button.</span></p>
<p class="rvps10"><span class="rvts20">To begin the autofocus process, simply click the&nbsp;Auto Focus&nbsp;button. To stop the Auto Focus process, click on the Stop button.</span></p>
<h5 class="rvps36"><a name="FOCUS-CCD-FILTER-WHEEL"></a><span class="rvts0"><span class="rvts22">CCD &amp; Filter Wheel Group</span></span></h5>
<p class="rvps3"><img alt="" style="padding : 1px;" src="lib/focus_ccdfw_group.png"></p>
<p class="rvps10"><span class="rvts20">You must specify the CCD and Filter Wheel (if any) to be used during the focusing process. You can&nbsp;</span><span class="rvts22">lock</span><span class="rvts20">&nbsp;a specific filter within the filter wheel to be utilized whenever the autofocus process is invoked. Usually, the user should select the Clear/Luminescence filter for this purpose so that Ekos always uses the same filter to perform the autofocus process. This locked filter is also used in the&nbsp;</span><a class="rvts23" href="Align.html">Alignment Module</a><span class="rvts20">&nbsp;whenever it performs any astrometry capture. For DSLRs cameras, you can change the ISO settings. You may reset the focusing subframe to full frame capture if you click the Reset button.</span></p>
<ul style="text-indent: 0px; padding: 0; margin: 0 0 0 24px; list-style-position: outside; list-style-type: disc;">
 <li class="rvps10"><span class="rvts20">CCD: Select the active camera. If your camera has a guide head, you can select it from here as well.</span></li>
 <li class="rvps10"><span class="rvts20">Exp: Specify exposure duration in seconds.</span></li>
 <li class="rvps10"><span class="rvts20">Toggle Fullscreen: Shows the focus frame in fullscreen, clicking on the button again will place the focus frame back into the docked position.</span></li>
 <li class="rvps10"><span class="rvts20">Show in FITS Viewer: Shows the focus frame image in FITS Viewer.</span></li>
 <li class="rvps10"><span class="rvts20">Bin: Specify horizontal (X) and vertical (Y) binning.</span></li>
 <li class="rvps10"><span class="rvts20">Gain: Specify the value of gain between 0% to 100%. This will increase the signal to noise level of your image.</span></li>
 <li class="rvps10"><span class="rvts20">ISO: For DSLR cameras, specify the ISO value.</span></li>
 <li class="rvps10"><span class="rvts20">FW: Select the active Filter Wheel device. If your camera has a built-in filter wheel, the device would be the same as the camera.</span></li>
 <li class="rvps10"><span class="rvts20">Filter: Specify desired filter.</span></li>
 <li class="rvps10"><span class="rvts20">Filter Settings: Use the Filter Manager to specify various settings for each filter including exposure, offset, autofocus, and locking policy. Settings</span></li>
</ul>
<h5 class="rvps36"><a name="FOCUS-RELATIVE-PROFILE"></a><span class="rvts0"><span class="rvts22">Settings</span></span></h5>
<p class="rvps3"><img alt="" style="padding : 1px;" src="lib/focus_settings.png"></p>
<p class="rvps10"><span class="rvts20">You may need to adjust focus settings in order to achieve a successful and reliable autofocus process. The settings are retained between sessions.</span></p>
<ul style="text-indent: 0px; padding: 0; margin: 0 0 0 24px; list-style-position: outside; list-style-type: disc;">
 <li class="rvps10"><span class="rvts22">Auto Star Select</span><span class="rvts20">: Automatically select the best focus star from the image.</span></li>
 <li class="rvps10"><span class="rvts22">Subframe</span><span class="rvts20">: Subframe around the focus star during the autofocus procedure. Enabling subframing can significantly speed up the focus process.</span></li>
 <li class="rvps10"><span class="rvts22">Full Field</span><span class="rvts20">: Measure average HFR from all stars combined in a full frame. This method defaults to the Centroid detection, but can use SEP detection too. Its performance decreases as the number of stars increases.</span></li>
 <li class="rvps10"><span class="rvts22">Suspend Guiding</span><span class="rvts20">: Suspend Guiding while autofocus in progress. If the focus process can disrupt the guide star (e.g.&nbsp;when using Integrated Guide Port IGP whereas the guider is physically attached to the primary CCD), then it is recommended to enable this option. When using Off-Axis guider, then this option is not necessary.</span></li>
 <li class="rvps10"><span class="rvts22">Dark Frame</span><span class="rvts20">: Check this option to capture a dark frame if necessary and perform dark-frame subtraction. This option can be useful in noisy images.</span></li>
 <li class="rvps10"><span class="rvts22">Box</span><span class="rvts20">: Sets the box size used to enclose the focus star. Increase if you have very large stars.</span></li>
 <li class="rvps10"><span class="rvts22">Annulus</span><span class="rvts20">: During full field focusing, stars which are inside this percentage of the frame are filtered out of HFR calculation (default 0%). Detection algorithms may also have an inherent filter.</span></li>
 <li class="rvps10"><span class="rvts22">Settle</span><span class="rvts20">: Sets the amount of seconds to wait before resuming guiding.</span></li>
</ul>
<p class="rvps3"><img alt="" style="padding : 1px;" src="lib/focus_process.png"></p>
<ul style="text-indent: 0px; padding: 0; margin: 0 0 0 24px; list-style-position: outside; list-style-type: disc;">
 <li class="rvps10"><span class="rvts22">Detection</span><span class="rvts20">: Select star detection algorithm. Each algorithm has its strengths and weaknesses. It is recommended to keep the default value unless it fails to properly detect stars.</span></li>
 <ul style="text-indent: 0px; padding: 0; margin: 0 0 0 48px; list-style-position: outside; list-style-type: circle;">
  <li class="rvps10"><span class="rvts22">SEP</span><span class="rvts20">: Source Extractor and Photometry, an efficient source detection method based on Source Extractor (Bertin and Arnouts 1996; Bertin 2016). See SEP: Source Extractor as a library in the Journal of Open Source Software.</span></li>
  <li class="rvps10"><span class="rvts22">Centroid</span><span class="rvts20">: a source detection based on estimating star mass around signal peaks.</span></li>
  <li class="rvps10"><span class="rvts22">Gradient</span><span class="rvts20">: a single source detection based on the Sobel filter. Initial or full-field analysis will use SEP instead of this method.</span></li>
  <li class="rvps10"><span class="rvts22">Threshold</span><span class="rvts20">: a single source detection based on pixel values. Initial or full-field analysis will use SEP instead of this method.</span></li>
  <li class="rvps10"><span class="rvts22">Bahtinov</span><span class="rvts20">: This is useful for users who do not have a motorized focuser and prefer to focus manually with the aid of a Bahtinov Mask. After capturing an image in the focus module with the Bahtinov mask algorithm selected, Ekos would analyze the images and stars within it. If Ekos recognizes the Bahtinov star pattern, it will draw lines over the star pattern in circles on the center and on an offset to indicate the focus.</span></li>
 </ul>
 <li class="rvps10"><span class="rvts22">Threshold</span><span class="rvts20">: Threshold percentage value is used for star detection using the&nbsp;</span><span class="rvts21">Threshold</span><span class="rvts20">&nbsp;detection algorithm. Increase to restrict the centroid to bright cores. Decrease to enclose fuzzy stars.</span></li>
 <li class="rvps10"><span class="rvts22">Effect</span><span class="rvts20">: Apply filter to image after capture to enhance it for preview purposes. It is highly advisable to turn off any effects during the focusing process as it may interfere with HFR calculations.</span></li>
 <li class="rvps10"><span class="rvts22">Kernel size</span><span class="rvts20">: This is the gaussian blur kernel size. Used for blurring the image before for instance the Bahtinov edge detection.</span></li>
 <li class="rvps10"><span class="rvts22">Sigma</span><span class="rvts20">: This is the gaussian blur sigma value. Used for blurring the image before for instance the Bahtinov edge detection.</span></li>
 <li class="rvps10"><span class="rvts22">Algorithm</span><span class="rvts20">: Select the autofocus process algorithm:</span></li>
 <ul style="text-indent: 0px; padding: 0; margin: 0 0 0 48px; list-style-position: outside; list-style-type: circle;">
  <li class="rvps10"><span class="rvts22">Iterative</span><span class="rvts20">: Moves focuser by discreet steps initially decided by the step size. Once a curve slope is calculated, further step sizes are calculated to reach an optimal solution. The algorithm stops when the measured HFR is within percentage tolerance of the minimum HFR recorded in the procedure.</span></li>
  <li class="rvps10"><span class="rvts22">Polynomial</span><span class="rvts20">: Starts with the iterative method. Upon crossing to the other side of the V-Curve, polynomial fitting coefficients along with possible minimum solution are calculated. This algorithm can be faster than a purely iterative approach given a good data set.</span></li>
  <li class="rvps10"><span class="rvts22">Linear</span><span class="rvts20">: Samples focus inward in a regular fashion, using 2 passes. The algorithm can be slow, but it is more resilient to backlash. Start with the focuser positioned near good focus. Set Initial Step Size and Max Travel for the desired sampling interval and range around start focus position. Tolerance should be around 5%.</span></li>
 </ul>
 <li class="rvps10"><span class="rvts22">Tolerance</span><span class="rvts20">: The tolerance percentage values decides when the autofocus process stops in the&nbsp;Iterative&nbsp;algorithm. During the autofocus process, HFR values are recorded, and once the focuser is close to an optimal position, it starts measuring HFRs against the minimum recorded HFR in the sessions and stops whenever a measured HFR value is within % difference of the minimum recorded HFR. Decrease value to narrow optimal focus point solution radius. Increase to expand solution radius.</span></li>
</ul>
<p class="rvps10"><span class="rvts20"><br/></span></p>
<hr style="height: 1px; color : #000000;  background-color : #000000; border-width : 0px;">
<div class="rvps5">
<table width="100%" border="1" cellpadding="1" cellspacing="2" style="border-color: #000000; border-style: solid; border-spacing: 2px; border-top: none; border-right: none; border-bottom: none; border-left: none;">
 <tr valign="top">
  <td width="5" style="border-color: #000000; border-style: solid; padding: 1px; border-top: none; border-right: none; border-bottom: none; border-left: none;">
   <p class="rvps6"><img width="16" height="14" alt="" style="padding : 1px;" src="lib/exclamation-triangle.png"></p>
  </td>
  <td width="426" style="border-color: #000000; border-style: solid; padding: 1px; border-top: none; border-right: none; border-bottom: none; border-left: none;">
   <p class="rvps2"><span class="rvts15">WARNING</span></p>
  </td>
 </tr>
 <tr valign="top">
  <td width="5" style="border-color: #000000; border-style: solid; padding: 1px; border-top: none; border-right: none; border-bottom: none; border-left: none;">
   <p class="rvps6"><span class="rvts17"><br/></span></p>
  </td>
  <td width="426" style="border-color: #000000; border-style: solid; padding: 1px; border-top: none; border-right: none; border-bottom: none; border-left: none;">
   <p class="rvps30"><span class="rvts59">Setting the value too low might result in a repetitive loop and would most likely result in a failed autofocus process.</span></p>
  </td>
 </tr>
</table>
</div>
<hr style="height: 1px; color : #000000;  background-color : #000000; border-width : 0px;">
<ul style="text-indent: 0px; padding: 0; margin: 0 0 0 24px; list-style-position: outside; list-style-type: disc;">
 <li class="rvps10"><span class="rvts22">Average over</span><span class="rvts20">: Sets the number of frames to capture in order to average the HFR value at the current focuser position.</span></li>
 <li class="rvps10"><span class="rvts22">Num. of rows</span><span class="rvts20">: The number of rows set in this field will be combined in the Bahtinov max average calculation. Changing this value might help to match the Bahtinov lines on the star pattern more accurately.</span></li>
</ul>
<p class="rvps3"><img alt="" style="padding : 1px;" src="lib/focus_mechanics.png"></p>
<ul style="text-indent: 0px; padding: 0; margin: 0 0 0 24px; list-style-position: outside; list-style-type: disc;">
 <li class="rvps10"><span class="rvts22">Initial Step Size</span><span class="rvts20">:&nbsp;</span><span class="rvts21">Initial</span><span class="rvts20">&nbsp;step size in ticks to cause a noticeable change in HFR value. For timer-based focuser, it is the initial time in milliseconds to move the focuser inward or outward.</span></li>
 <li class="rvps10"><span class="rvts22">Max Step size</span><span class="rvts20">: The maximum single step size the algorithm is allowed to command as it searches for the critical focus zone. The calculated step size would be limited to this maximum value.</span></li>
 <li class="rvps10"><span class="rvts22">Settle</span><span class="rvts20">: Sets the amount of seconds to wait after moving the focuser before capturing the next image during Auto Focus.</span></li>
 <li class="rvps10"><span class="rvts22">Max Travel</span><span class="rvts20">: Maximum travel in ticks before the autofocus process aborts.</span></li>
 <li class="rvps10"><span class="rvts22">Frames</span><span class="rvts20">: Number of average frames to capture. During each capture, an HFR is recorded. If the instantaneous HFR value is unreliable, you can average a number of frames to increase the signal to noise ratio.</span></li>
 <li class="rvps10"><span class="rvts22">Out Step Multiple</span><span class="rvts20">: This is the number that is multiplied by initial-step-size to get the number of outward steps that the Linear Focus algorithm moves away from the initial position at the start of focusing.</span></li>
</ul>
<h5 class="rvps36"><a name="EKOS-GUIDE"></a><span class="rvts0"><span class="rvts22">V-Curve</span></span></h5>
<p class="rvps3"><img alt="" style="padding : 1px;" src="lib/focus_vcurve.png"></p>
<p class="rvps10"><span class="rvts20">The V-shaped curve displays absolute position versus Half-Flux-Radius (HFR) values. The center of the V-curve is the optimal focus position. Once Ekos crosses from one side of the V-curve to the other, it backtracks and tries to find the optimal focus position. The final focus position is decided by which algorithm is selected.</span></p>
<p class="rvps10"><span class="rvts20">When framing, the horizontal axis denotes the frame number. This is to aid you in the framing process as you can see how HFR changes between frames.</span></p>
<h5 class="rvps36"><a name="IDM6052"></a><span class="rvts0"><span class="rvts22">Relative Profile</span></span></h5>
<p class="rvps3"><img alt="" style="padding : 1px;" src="lib/focus_relative_profile.png"></p>
<p class="rvps10"><span class="rvts20">The relative profile is a graph that displays the relative HFR values plotted against each other. Lower HFR values correspond to narrower shapes and vice-versa. The solid red curve is the profile of the current HFR value, while the dotted green curve is for the previous HFR value. Finally, the magenta curve denotes the first measured HFR and is displayed when the autofocus process concludes. This enables you to judge how well the autofocus process improved the relative focus quality.</span></p>
<p></p>

            </div>
            
            <div id="topic_footer"><div id="topic_footer_content">Copyright &copy; 2020 by Ikarus Technologies. All Rights Reserved.</div></div>
        </div>  <!-- /#topic-content -->
    </article>

    <footer></footer>

  </div>  <!-- /#main -->

  <div class="mask" data-toggle="sm-nav-expanded"></div>
  
  <!-- Modal -->
  <div class="modal fade" id="hndModal" tabindex="-1" role="dialog" aria-labelledby="hndModalLabel">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
          <h4 class="modal-title" id="hndModalLabel"></h4>
        </div>
        <div class="modal-body">
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-primary modal-btn-close" data-dismiss="modal">Close</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Splitter -->
  <div id="hnd-splitter" style="left: 350px"></div>  

  <!-- Scripts -->
  <script src="vendors/jquery-3.5.1/jquery.min.js"></script>
  <script src="vendors/bootstrap-3.4.1/js/bootstrap.min.js"></script>
  <script src="vendors/bootstrap-3.4.1/js/ie10-viewport-bug-workaround.js"></script>
  <script src="vendors/markjs-8.11.1/jquery.mark.min.js"></script>
  <script src="vendors/uri-1.19.2/uri.min.js"></script>
  <script src="vendors/imageMapResizer-1.0.10/imageMapResizer.min.js"></script>
  <script src="vendors/headroom-0.11.0/headroom.min.js"></script>
  <script src="vendors/jstree-3.3.10/jstree.min.js"></script>  
  <script src="vendors/interactjs-1.9.22/interact.min.js"></script>  

  <!-- HelpNDoc scripts -->
  <script src="js/polyfill.object.min.js"></script>
  <script src="_translations.js"></script>
  <script src="js/hndsd.min.js"></script>
  <script src="js/hndse.min.js"></script>
  <script src="js/app.min.js"></script>

  <!-- Init script -->
  <script>
    $(function() {
      // Create the app
      var app = new Hnd.App();
      // Update translations
      hnd_ut(app);
	  // Instanciate imageMapResizer
	  imageMapResize();
	  // Custom JS
	  
      // Boot the app
      app.Boot();
    });
  </script>



</body>

</html>

